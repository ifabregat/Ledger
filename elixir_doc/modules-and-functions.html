<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="Elixir v1.17.3">


    <title>Modules and functions — Elixir v1.17.3</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


      <link rel="canonical" href="https://hexdocs.pm/elixir/modules-and-functions.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-3D721A5F.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://elixir-lang.org/docs.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Elixir" />
        </a>

      <div>
        <a href="https://elixir-lang.org/docs.html" class="sidebar-projectName" translate="no">
Elixir
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.17.3
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Elixir</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/elixir-lang/elixir/blob/v1.17.3/lib/elixir/pages/getting-started/modules-and-functions.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Modules and functions</span>
  </h1>

<p>In Elixir we group several functions into modules. We've already used many different modules in the previous chapters, such as the <a href="String.html"><code class="inline">String</code></a> module:</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="7624573757-1">(</span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="7624573757-1">)</span><span class="w">
</span><span class="mi">5</span></code></pre><p>In order to create our own modules in Elixir, we use the <code class="inline">defmodule</code> macro. The first letter of the module must be in uppercase. We use the <code class="inline">def</code> macro to define functions in that module. The first letter of every function must be in lowercase (or underscore):</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Math</span><span class="w"> </span><span class="k" data-group-id="8981776823-1">do</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="kd">def</span><span class="w"> </span><span class="nf">sum</span><span class="p" data-group-id="8981776823-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="8981776823-2">)</span><span class="w"> </span><span class="k" data-group-id="8981776823-3">do</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="w">  </span><span class="k" data-group-id="8981776823-3">end</span><span class="w">
</span><span class="gp unselectable">...&gt; </span><span class="k" data-group-id="8981776823-1">end</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Math</span><span class="o">.</span><span class="n">sum</span><span class="p" data-group-id="8981776823-4">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="8981776823-4">)</span><span class="w">
</span><span class="mi">3</span></code></pre><p>In this chapter we will define our own modules, with different levels of complexity. As our examples get longer in size, it can be tricky to type them all in the shell. It's about time for us to learn how to compile Elixir code and also how to run Elixir scripts.</p><h2 id="compilation" class="section-heading">
  <a href="#compilation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Compilation</span>
</h2>
<p>Most of the time it is convenient to write modules into files so they can be compiled and reused. Let's assume we have a file named <code class="inline">math.ex</code> with the following contents:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Math</span><span class="w"> </span><span class="k" data-group-id="9302193152-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">sum</span><span class="p" data-group-id="9302193152-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="9302193152-2">)</span><span class="w"> </span><span class="k" data-group-id="9302193152-3">do</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="9302193152-3">end</span><span class="w">
</span><span class="k" data-group-id="9302193152-1">end</span></code></pre><p>This file can be compiled using <code class="inline">elixirc</code>:</p><pre><code class="makeup console" translate="no"><span class="gp unselectable">$ </span><span class="">elixirc math.ex
</span></code></pre><p>This will generate a file named <code class="inline">Elixir.Math.beam</code> containing the bytecode for the defined module. If we start <code class="inline">iex</code> again, our module definition will be available (provided that <code class="inline">iex</code> is started in the same directory the bytecode file is in):</p><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Math</span><span class="o">.</span><span class="n">sum</span><span class="p" data-group-id="0422291771-1">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="0422291771-1">)</span><span class="w">
</span><span class="mi">3</span></code></pre><p>Elixir projects are usually organized into three directories:</p><ul><li><code class="inline">_build</code> - contains compilation artifacts</li><li><code class="inline">lib</code> - contains Elixir code (usually <code class="inline">.ex</code> files)</li><li><code class="inline">test</code> - contains tests (usually <code class="inline">.exs</code> files)</li></ul><p>When working on actual projects, the build tool called <code class="inline">mix</code> will be responsible for compiling and setting up the proper paths for you. For learning and convenience purposes, Elixir also supports a scripting mode which is more flexible and does not generate any compiled artifacts.</p><h2 id="scripting-mode" class="section-heading">
  <a href="#scripting-mode" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Scripting mode</span>
</h2>
<p>In addition to the Elixir file extension <code class="inline">.ex</code>, Elixir also supports <code class="inline">.exs</code> files for scripting. Elixir treats both files exactly the same way, the only difference is in intention. <code class="inline">.ex</code> files are meant to be compiled while <code class="inline">.exs</code> files are used for scripting. This convention is followed by projects like <code class="inline">mix</code>.</p><p>For instance, we can create a file called <code class="inline">math.exs</code>:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Math</span><span class="w"> </span><span class="k" data-group-id="9657506485-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">sum</span><span class="p" data-group-id="9657506485-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="9657506485-2">)</span><span class="w"> </span><span class="k" data-group-id="9657506485-3">do</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="9657506485-3">end</span><span class="w">
</span><span class="k" data-group-id="9657506485-1">end</span><span class="w">

</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">sum</span><span class="p" data-group-id="9657506485-4">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="9657506485-4">)</span></code></pre><p>And execute it as:</p><pre><code class="makeup console" translate="no"><span class="gp unselectable">$ </span><span class="">elixir math.exs
</span></code></pre><p>Because we used <code class="inline">elixir</code> instead of <code class="inline">elixirc</code>, the module was compiled and loaded into memory, but no <code class="inline">.beam</code> file was written to disk. In the following examples, we recommend you write your code into script files and execute them as shown above.</p><h2 id="function-definition" class="section-heading">
  <a href="#function-definition" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Function definition</span>
</h2>
<p>Inside a module, we can define functions with <a href="Kernel.html#def/2"><code class="inline">def/2</code></a> and private functions with <a href="Kernel.html#defp/2"><code class="inline">defp/2</code></a>. A function defined with <a href="Kernel.html#def/2"><code class="inline">def/2</code></a> can be invoked from other modules while a private function can only be invoked locally.</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Math</span><span class="w"> </span><span class="k" data-group-id="4049763623-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">sum</span><span class="p" data-group-id="4049763623-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4049763623-2">)</span><span class="w"> </span><span class="k" data-group-id="4049763623-3">do</span><span class="w">
    </span><span class="n">do_sum</span><span class="p" data-group-id="4049763623-4">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4049763623-4">)</span><span class="w">
  </span><span class="k" data-group-id="4049763623-3">end</span><span class="w">

  </span><span class="kd">defp</span><span class="w"> </span><span class="nf">do_sum</span><span class="p" data-group-id="4049763623-5">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4049763623-5">)</span><span class="w"> </span><span class="k" data-group-id="4049763623-6">do</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="4049763623-6">end</span><span class="w">
</span><span class="k" data-group-id="4049763623-1">end</span><span class="w">

</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">sum</span><span class="p" data-group-id="4049763623-7">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4049763623-7">)</span><span class="w">    </span><span class="c1">#=&gt; 3</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">do_sum</span><span class="p" data-group-id="4049763623-8">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4049763623-8">)</span><span class="w"> </span><span class="c1">#=&gt; ** (UndefinedFunctionError)</span></code></pre><p>Function declarations also support guards and multiple clauses. If a function has several clauses, Elixir will try each clause until it finds one that matches. Here is an implementation of a function that checks if the given number is zero or not:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Math</span><span class="w"> </span><span class="k" data-group-id="1433064101-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">zero?</span><span class="p" data-group-id="1433064101-2">(</span><span class="mi">0</span><span class="p" data-group-id="1433064101-2">)</span><span class="w"> </span><span class="k" data-group-id="1433064101-3">do</span><span class="w">
    </span><span class="no">true</span><span class="w">
  </span><span class="k" data-group-id="1433064101-3">end</span><span class="w">

  </span><span class="kd">def</span><span class="w"> </span><span class="nf">zero?</span><span class="p" data-group-id="1433064101-4">(</span><span class="n">x</span><span class="p" data-group-id="1433064101-4">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">is_integer</span><span class="p" data-group-id="1433064101-5">(</span><span class="n">x</span><span class="p" data-group-id="1433064101-5">)</span><span class="w"> </span><span class="k" data-group-id="1433064101-6">do</span><span class="w">
    </span><span class="no">false</span><span class="w">
  </span><span class="k" data-group-id="1433064101-6">end</span><span class="w">
</span><span class="k" data-group-id="1433064101-1">end</span><span class="w">

</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">zero?</span><span class="p" data-group-id="1433064101-7">(</span><span class="mi">0</span><span class="p" data-group-id="1433064101-7">)</span><span class="w">         </span><span class="c1">#=&gt; true</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">zero?</span><span class="p" data-group-id="1433064101-8">(</span><span class="mi">1</span><span class="p" data-group-id="1433064101-8">)</span><span class="w">         </span><span class="c1">#=&gt; false</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">zero?</span><span class="p" data-group-id="1433064101-9">(</span><span class="p" data-group-id="1433064101-10">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="1433064101-10">]</span><span class="p" data-group-id="1433064101-9">)</span><span class="w"> </span><span class="c1">#=&gt; ** (FunctionClauseError)</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Math</span><span class="o">.</span><span class="n">zero?</span><span class="p" data-group-id="1433064101-11">(</span><span class="mf">0.0</span><span class="p" data-group-id="1433064101-11">)</span><span class="w">       </span><span class="c1">#=&gt; ** (FunctionClauseError)</span></code></pre><p>The trailing question mark in <code class="inline">zero?</code> means that this function returns a boolean. To learn more about the naming conventions for modules, function names, variables and more in Elixir, see <a href="naming-conventions.html">Naming Conventions</a>.</p><p>Giving an argument that does not match any of the clauses raises an error.</p><p>Similar to constructs like <code class="inline">if</code>, function definitions support both <code class="inline">do:</code> and <code class="inline">do</code>-block syntax, as <a href="keywords-and-maps.html#do-blocks-and-keywords">we learned in the previous chapter</a>. For example, we can edit <code class="inline">math.exs</code> to look like this:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Math</span><span class="w"> </span><span class="k" data-group-id="8538925845-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">zero?</span><span class="p" data-group-id="8538925845-2">(</span><span class="mi">0</span><span class="p" data-group-id="8538925845-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">zero?</span><span class="p" data-group-id="8538925845-3">(</span><span class="n">x</span><span class="p" data-group-id="8538925845-3">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">is_integer</span><span class="p" data-group-id="8538925845-4">(</span><span class="n">x</span><span class="p" data-group-id="8538925845-4">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="no">false</span><span class="w">
</span><span class="k" data-group-id="8538925845-1">end</span></code></pre><p>And it will provide the same behavior. You may use <code class="inline">do:</code> for one-liners but always use <code class="inline">do</code>-blocks for functions spanning multiple lines. If you prefer to be consistent, you can use <code class="inline">do</code>-blocks throughout your codebase.</p><h2 id="default-arguments" class="section-heading">
  <a href="#default-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Default arguments</span>
</h2>
<p>Function definitions in Elixir also support default arguments:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Concat</span><span class="w"> </span><span class="k" data-group-id="5970123329-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">join</span><span class="p" data-group-id="5970123329-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p" data-group-id="5970123329-2">)</span><span class="w"> </span><span class="k" data-group-id="5970123329-3">do</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="5970123329-3">end</span><span class="w">
</span><span class="k" data-group-id="5970123329-1">end</span><span class="w">

</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="5970123329-4">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p" data-group-id="5970123329-4">)</span><span class="w">      </span><span class="c1">#=&gt; Hello world</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="5970123329-5">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="p" data-group-id="5970123329-5">)</span><span class="w"> </span><span class="c1">#=&gt; Hello_world</span></code></pre><p>Any expression is allowed to serve as a default value, but it won't be evaluated during the function definition. Every time the function is invoked and any of its default values have to be used, the expression for that default value will be evaluated:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">DefaultTest</span><span class="w"> </span><span class="k" data-group-id="2241084969-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">dowork</span><span class="p" data-group-id="2241084969-2">(</span><span class="n">x</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="2241084969-2">)</span><span class="w"> </span><span class="k" data-group-id="2241084969-3">do</span><span class="w">
    </span><span class="n">x</span><span class="w">
  </span><span class="k" data-group-id="2241084969-3">end</span><span class="w">
</span><span class="k" data-group-id="2241084969-1">end</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">DefaultTest</span><span class="o">.</span><span class="n">dowork</span><span class="p" data-group-id="3370642531-1">(</span><span class="p" data-group-id="3370642531-1">)</span><span class="w">
</span><span class="s">&quot;hello&quot;</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DefaultTest</span><span class="o">.</span><span class="n">dowork</span><span class="p" data-group-id="3370642531-2">(</span><span class="mi">123</span><span class="p" data-group-id="3370642531-2">)</span><span class="w">
</span><span class="mi">123</span><span class="w">
</span><span class="gp unselectable">iex&gt; </span><span class="nc">DefaultTest</span><span class="o">.</span><span class="n">dowork</span><span class="p" data-group-id="3370642531-3">(</span><span class="p" data-group-id="3370642531-3">)</span><span class="w">
</span><span class="s">&quot;hello&quot;</span></code></pre><p>If a function with default values has multiple clauses, it is required to create a function head (a function definition without a body) for declaring defaults:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Concat</span><span class="w"> </span><span class="k" data-group-id="4212652590-1">do</span><span class="w">
  </span><span class="c1"># A function head declaring defaults</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">join</span><span class="p" data-group-id="4212652590-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p" data-group-id="4212652590-2">)</span><span class="w">

  </span><span class="kd">def</span><span class="w"> </span><span class="nf">join</span><span class="p" data-group-id="4212652590-3">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="c">_sep</span><span class="p" data-group-id="4212652590-3">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">is_nil</span><span class="p" data-group-id="4212652590-4">(</span><span class="n">b</span><span class="p" data-group-id="4212652590-4">)</span><span class="w"> </span><span class="k" data-group-id="4212652590-5">do</span><span class="w">
    </span><span class="n">a</span><span class="w">
  </span><span class="k" data-group-id="4212652590-5">end</span><span class="w">

  </span><span class="kd">def</span><span class="w"> </span><span class="nf">join</span><span class="p" data-group-id="4212652590-6">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="p" data-group-id="4212652590-6">)</span><span class="w"> </span><span class="k" data-group-id="4212652590-7">do</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="4212652590-7">end</span><span class="w">
</span><span class="k" data-group-id="4212652590-1">end</span><span class="w">

</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="4212652590-8">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p" data-group-id="4212652590-8">)</span><span class="w">      </span><span class="c1">#=&gt; Hello world</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="4212652590-9">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="p" data-group-id="4212652590-9">)</span><span class="w"> </span><span class="c1">#=&gt; Hello_world</span><span class="w">
</span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="4212652590-10">(</span><span class="s">&quot;Hello&quot;</span><span class="p" data-group-id="4212652590-10">)</span><span class="w">               </span><span class="c1">#=&gt; Hello</span></code></pre><p>When a variable is not used by a function or a clause, we add a leading underscore (<code class="inline">_</code>) to its name to signal this intent. This rule is also covered in our <a href="naming-conventions.html#underscore-_foo">Naming Conventions</a> document.</p><p>When using default values, one must be careful to avoid overlapping function definitions. Consider the following example:</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">Concat</span><span class="w"> </span><span class="k" data-group-id="5217671995-1">do</span><span class="w">
  </span><span class="kd">def</span><span class="w"> </span><span class="nf">join</span><span class="p" data-group-id="5217671995-2">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="5217671995-2">)</span><span class="w"> </span><span class="k" data-group-id="5217671995-3">do</span><span class="w">
    </span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="s">&quot;***First join&quot;</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="5217671995-3">end</span><span class="w">

  </span><span class="kd">def</span><span class="w"> </span><span class="nf">join</span><span class="p" data-group-id="5217671995-4">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p" data-group-id="5217671995-4">)</span><span class="w"> </span><span class="k" data-group-id="5217671995-5">do</span><span class="w">
    </span><span class="nc">IO</span><span class="o">.</span><span class="n">puts</span><span class="w"> </span><span class="s">&quot;***Second join&quot;</span><span class="w">
    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w">
  </span><span class="k" data-group-id="5217671995-5">end</span><span class="w">
</span><span class="k" data-group-id="5217671995-1">end</span></code></pre><p>Elixir will emit the following warning:</p><pre><code class="text">warning: this clause cannot match because a previous clause at line 2 always matches
    concat.ex:7: Concat</code></pre><p>The compiler is telling us that invoking the <code class="inline">join</code> function with two arguments will always choose the first definition of <code class="inline">join</code> whereas the second one will only be invoked when three arguments are passed:</p><pre><code class="makeup console" translate="no"><span class="gp unselectable">$ </span><span class="">iex concat.ex
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="w">
</span><span class="o">*</span><span class="o">*</span><span class="o">*</span><span class="nc">First</span><span class="w"> </span><span class="n">join</span><span class="w">
</span><span class="s">&quot;Helloworld&quot;</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="gp unselectable">iex&gt; </span><span class="nc">Concat</span><span class="o">.</span><span class="n">join</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="w">
</span><span class="o">*</span><span class="o">*</span><span class="o">*</span><span class="nc">Second</span><span class="w"> </span><span class="n">join</span><span class="w">
</span><span class="s">&quot;Hello_world&quot;</span></code></pre><p>Removing the default argument in this case will fix the warning.</p><p>This finishes our short introduction to modules. In the next chapters, we will learn how to use function definitions for recursion and later on explore more functionality related to modules.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="keywords-and-maps.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Keyword lists and maps
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="recursion.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Recursion
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Elixir.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.2.3/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({
      startOnLoad: false,
      theme: document.body.className.includes("dark") ? "dark" : "default"
    });
    let id = 0;
    for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
        graphEl.innerHTML = svg;
        bindFunctions?.(graphEl);
        preEl.insertAdjacentElement("afterend", graphEl);
        preEl.remove();
      });
    }
  });
</script>

  </body>
</html>
